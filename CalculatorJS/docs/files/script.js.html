<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>script.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title=""></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/APP.html">APP</a></li>
                                <li><a href="../classes/Constants.html">Constants</a></li>
                                <li><a href="../classes/Main.html">Main</a></li>
                                <li><a href="../classes/percent.html">percent</a></li>
                                <li><a href="../classes/pressEqual.html">pressEqual</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/APP.html">APP</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: script.js</h1>
                        
                        <div class="file">
                            <pre class="code prettyprint linenums">
                        /**
                         * Main calculator class. Contains all necessary Calculator related properties/methods.
                         * @class Main
                         * @module APP
                         */
                        window.APP.namespace(&#x27;Main&#x27;, {
                        
                        });
                        
                        /**
                         * Arithmetic module. Contains all necessary properties/methods related to aritmetic operations. 
                         * Like, addition, multiplication, division, etc... All aritmetic operations are binary operations, i.e need two
                         * operands to work.
                         * @module APP
                         * @class Aritmetic
                         */
                        window.APP.namespace(&#x27;Aritmetic&#x27;, {
                        
                            /**
                             * Divide method. Divides &quot;result&quot; operand with the value in the display field. It also checks for division by zero.
                             * @class Aritmetic 
                             * @method divide
                             */
                            divide: function () {&#x27;use strict&#x27;;
                                if (window.APP.result === &#x27;&#x27;) {
                                    window.APP.result = window.APP.dgField;
                                } else if (window.APP.dgField !== &#x27;0&#x27;) {
                                    window.APP.result = window.APP.myParseFloat(window.APP.result) / window.APP.myParseFloat(window.APP.dgField);
                                } else {
                                    window.APP.dgField == &quot;Cannot divide by zero&quot;;
                                }
                                window.APP.opField += window.APP.dgField + &quot; &quot; + window.APP.operation + &quot; &quot;;
                                window.APP.dgField = window.APP.result;
                            },
                        
                            /**
                             * Multiply method. Multiplies &quot;result&quot; operand with the value in the display field.
                             * @method multiply
                             * @class Aritmetic 
                             */
                            multiply: function () {&#x27;use strict&#x27;;
                                if (window.APP.result === &#x27;&#x27;) {
                                    window.APP.result = window.APP.dgField;
                                } else {
                                    window.APP.result = window.APP.myParseFloat(window.APP.result) * window.APP.myParseFloat(window.APP.dgField);
                                }
                                window.APP.opField += window.APP.dgField + &quot; &quot; + window.APP.operation + &quot; &quot;;
                                window.APP.dgField = window.APP.result;
                            },
                        
                            /**
                             * Add method. Adds &quot;result&quot; operand to the value in the display field.
                             * @method add
                             * @class Aritmetic 
                             */
                            add: function () {&#x27;use strict&#x27;;
                                if (window.APP.result === &#x27;&#x27;) {
                                    window.APP.result = window.APP.dgField;
                                } else {
                                    window.APP.result = window.APP.myParseFloat(window.APP.result) + window.APP.myParseFloat(window.APP.dgField);
                                } 
                                window.APP.opField += window.APP.dgField + &quot; &quot; + window.APP.operation + &quot; &quot;;
                                window.APP.dgField = window.APP.result;
                            },
                        
                            /**
                             * Subtract method. Subtracts the value in the display field from &quot;result&quot; operand.
                             * @method subtract
                             * @class Aritmetic 
                             */
                            subtract: function () {
                                if (window.APP.result === &#x27;&#x27;) {
                                    window.APP.result = window.APP.dgField;
                                } else {
                                    window.APP.result = window.APP.myParseFloat(window.APP.result) - window.APP.myParseFloat(window.APP.dgField);
                                }
                                window.APP.opField += window.APP.dgField + &quot; &quot; + window.APP.operation + &quot; &quot;;
                                window.APP.dgField = window.APP.result;
                            },
                        
                            /**
                             * Percent method. It needs both &quot;result&quot; and display field values to be different than 0 to work. 
                             * Therefore an aritmetic operation must be used before you can calculate percents of a given value. 
                             * Example: Press number 555 and then press the plus(+) sign button. &quot;result&quot; operand now has the value of 555
                             * and the application waits for input for the second operand. Insert value of 33 and then press the percent(%) 
                             * button. The application finds there are two available operands so it calculates 33% of 555 which is 183.15 and
                             * sets the display field to this new percent value. If you press the equal(=) sign button, it will sum up 555 + 183.15 
                             * which is 738.15. This same set of tasks applies to all other binary operations so if we used division(/) instead of 
                             * adtion(+) the final result would be 3.030303 or (555 / (33% of 555)) = (555 / 183.15)
                             * @method percent
                             * @class Aritmetic 
                             */
                            percent: function () {
                                var sum = 0,
                                    percent = 0,
                                    outcome = 0;
                        
                                if (window.APP.result === &#x27;&#x27;) {
                                    window.APP.opField = &#x27;0&#x27;;
                                    window.APP.dgField = &#x27;0&#x27;;
                                } else {
                                    if (window.APP.dgField === &#x27;0&#x27; || window.APP.dgField === &#x27;0.&#x27;) {
                                        if (window.APP.opField.substr(window.APP.opField.length - 1) !== &#x27;0&#x27; ) {
                                            window.APP.opField = window.APP.opField + &#x27;0&#x27;;
                                        } 
                                        window.APP.dgField = &#x27;0&#x27;;
                                        window.APP.printData();
                                    } else {
                                        sum = window.APP.myParseFloat(window.APP.result);
                                        percent = window.APP.myParseFloat(window.APP.dgField);
                                        outcome = percent * sum / 100;
                                        if (window.APP.opField.indexOf(&quot;&quot; + window.APP.operand) !== -1) {
                                            window.APP.opField = window.APP.opField.substr(0, window.APP.opField.indexOf(&quot;&quot; + window.APP.operand));
                                        } 
                                        window.APP.opField += outcome;
                                        window.APP.operand = outcome;
                                        window.APP.dgField = outcome;
                                    }
                                }
                            }
                        });
                        
                        /**
                         * Buttons class. Contains all necessary properties/methods related to the visible buttons.
                         * @class Buttons
                         * @module APP
                         */
                        window.APP.namespace(&#x27;Buttons&#x27;, {
                        
                            /**
                             * pressNumber method (called upon pressing one of 0, 1, 2, 3, 4, 5, 6, 7, 8 or 9 buttons) is a method that receives one parameter
                             * in string format from one of these &#x27;1&#x27;, &#x27;2&#x27;, ..., &#x27;9&#x27;. If eraseData key is true, digits field value is cleared and number param value is 
                             * concatenated to digits field, then eraseData is set to false. If eraseData is set to false then any new number button pressed concatenates
                             * its value to digits display field without clearing digits field previous value. 
                             * @method pressNumber
                             * @param number number value in string format. It may be some of these values &#x27;1&#x27;, &#x27;2&#x27;, ..., &#x27;9&#x27;
                             * @class Buttons 
                             */
                            pressNumber: function (number) {&#x27;use strict&#x27;;
                                window.APP.dgField = window.APP.digitsField.value;
                                if (number === &#x27;0&#x27;) {
                                    if (window.APP.dgField === &#x27;0&#x27; || window.APP.eraseDigits) {
                                        window.APP.dgField = &#x27;&#x27;;
                                    }
                                    window.APP.dgField += &#x27;0&#x27;;
                                } else {
                                    if (window.APP.dgField === &#x27;0&#x27; || window.APP.eraseDigits) {
                                        window.APP.dgField = &#x27;&#x27;;
                                    }
                                    window.APP.dgField += number;
                                }
                                window.APP.eraseDigits = false;
                                window.APP.digitsField.value = window.APP.dgField;
                            },
                        
                            /**
                             * pressUnaryOperation method (called upon pressing one of square root(&#x27;sqrt&#x27;), reciproc(&#x27;1/x&#x27;) or negate(&#x27;+/-&#x27;) buttons)
                             * recieves some of these values: &#x27;sqrt&#x27;, &#x27;1/x&#x27;, &#x27;+/-&#x27;. It needs only one operand to work
                             * since the operations are unary. It also takes cleares the operations text field from uncessary rubbish text.
                             * @method pressUnaryOperation
                             * @param op operation value in string format. It may be some of these values &#x27;sqrt&#x27;(square root), &#x27;1/x&#x27;(reciproc), &#x27;+/-&#x27;(negate).
                             * @class Buttons 
                             */
                            pressUnaryOperation: function (op) {&#x27;use strict&#x27;;
                                var index = 0;
                                window.APP.opField = window.APP.operationField.value;
                                window.APP.dgField = window.APP.digitsField.value;
                                window.APP.operand = window.APP.myParseFloat(window.APP.dgField);
                        
                                if (window.APP.operandStr !== &#x27;&#x27;) {
                                    index = window.APP.opField.indexOf(window.APP.operandStr);
                                    if (index !== -1) {
                                        window.APP.opField = window.APP.opField.slice(0, index);
                                    }
                                }
                        
                                switch (op) {
                                    case &#x27;sqrt&#x27;:
                                        window.APP.operandStr = (window.APP.operandStr === &#x27;&#x27; ? &quot;sqrt(&quot; + window.APP.operand + &quot;)&quot; : &quot;sqrt(&quot; + window.APP.operandStr + &quot;)&quot;);
                                        if (window.APP.operand &lt; 0) {
                                            window.APP.dgField = &quot;invalid input&quot;;
                                        } else {
                                            window.APP.dgField = Math.sqrt(window.APP.operand);
                                            window.APP.result = window.APP.dgField;
                                        }
                                    break;
                                    case &#x27;1/x&#x27;:
                                        window.APP.operandStr = (window.APP.operandStr === &#x27;&#x27; ? &quot;reciproc(&quot; + window.APP.operand + &quot;)&quot; : &quot;reciproc(&quot; + window.APP.operandStr + &quot;)&quot;);
                                        if (window.APP.operand === 0) {
                                            window.APP.dgField = &quot;Cannot divide by zero&quot;;
                                        } else {
                                            window.APP.dgField = 1 / window.APP.operand;
                                            window.APP.result = window.APP.dgField;
                                        }
                                    break;
                                    case &#x27;+/-&#x27;:
                                        if (window.APP.result === &#x27;&#x27;) {
                                            if (window.APP.dgField !== &#x27;0&#x27;) {
                                                if (window.APP.dgField.indexOf(&#x27;-&#x27;) === -1) {
                                                    window.APP.dgField = &#x27;-&#x27; + window.APP.dgField;
                                                } else {
                                                    window.APP.dgField = window.APP.dgField.substr(1);
                                                }
                                            }
                                        } else {
                                            if (window.APP.dgField !== &#x27;0&#x27;) {
                                                if (window.APP.dgField.indexOf(&#x27;-&#x27;) === -1) {
                                                    window.APP.dgField = &#x27;-&#x27; + window.APP.dgField;
                                                } else {
                                                    window.APP.dgField = window.APP.dgField.substr(1);
                                                }
                                                window.APP.operandStr = (window.APP.operandStr === &#x27;&#x27; ? &quot;negate(&quot; + window.APP.operand + &quot;)&quot; : &quot;negate(&quot; + window.APP.operandStr + &quot;)&quot;);
                                            }
                                        }
                                    break;
                                }
                        
                                window.APP.opField += window.APP.operandStr;
                                window.APP.operationField.value = window.APP.opField;
                                window.APP.digitsField.value = window.APP.dgField;
                        
                                window.APP.printData();
                            },
                        
                            /**
                             * pressBinaryOperation method (called upon pressing plus(&#x27;+&#x27;), minus(&#x27;-&#x27;), division(&#x27;/&#x27;), multiplication(&#x27;*&#x27;) or percent(&#x27;%&#x27;) buttons) 
                             * recieves one parameter in string format from these values: &#x27;+&#x27;, &#x27;-&#x27;, &#x27;/&#x27;, &#x27;*&#x27;, &#x27;%&#x27;. It therefore calculates the result and 
                             * displays it in the digits display field according to the given operation type.
                             * @method pressBinaryOperation
                             * @param op operation in string format from these values: &#x27;+&#x27;, &#x27;-&#x27;, &#x27;/&#x27;, &#x27;*&#x27;, &#x27;%&#x27;
                             * @class Buttons 
                             */
                            pressBinaryOperation: function (op) {&#x27;use strict&#x27;;
                                window.APP.dgField = window.APP.digitsField.value;
                                window.APP.opField = window.APP.operationField.value;
                                if (op !== &#x27;%&#x27;) {
                                    window.APP.operation = op;
                                }
                                window.APP.eraseDigits = true;
                        
                                switch (op) {
                                    case &#x27;/&#x27;: 
                                        window.APP.Aritmetic.divide();
                                    break;
                                    case &#x27;*&#x27;: 
                                        window.APP.Aritmetic.multiply();
                                    break;
                                    case &#x27;+&#x27;: 
                                        window.APP.Aritmetic.add();
                                    break;
                                    case &#x27;-&#x27;: 
                                        window.APP.Aritmetic.subtract();
                                    break;
                                    case &#x27;%&#x27;: 
                                        window.APP.Aritmetic.percent();
                                    break;
                                }
                        
                                window.APP.digitsField.value = window.APP.dgField;
                                window.APP.operationField.value = window.APP.opField;
                                window.APP.printData();
                            },
                        
                            /**
                             * pressComma method (called upon pressing comma(,) button)adds dot to the digits display field. 
                             * It there is already a dot it skips adding new one.
                             * @method pressComma
                             * @class Buttons 
                             */
                            pressComma: function () {
                                window.APP.dgField = window.APP.digitsField.value;
                                if (window.APP.dgField.indexOf(&#x27;.&#x27;) === -1) {
                                    if (window.APP.dgField === &#x27;&#x27;) {
                                        window.APP.dgField = &#x27;0.&#x27;;
                                    } else {
                                        window.APP.dgField += &#x27;.&#x27;;
                                    }
                                    window.APP.digitsField.value = window.APP.dgField;
                                } 
                            },
                        
                            /**
                             * pressUndo method (called upon pressing undo(&lt;-) button) removes one digit from the digits siplay field. 
                             * If the digits display field has only one digit, it is set to zero.
                             * @method pressUndo
                             * @class Buttons 
                             */
                            pressUndo: function () {
                                window.APP.dgField = window.APP.digitsField.value;
                                if (window.APP.dgField.length === 1) {
                                    window.APP.dgField = &#x27;0&#x27;;
                                } else {
                                    window.APP.dgField = window.APP.dgField.substring(0, window.APP.dgField.length - 1);
                                }
                                window.APP.digitsField.value = window.APP.dgField;
                            },
                        
                            /**
                             * pressClearEntry method (called upon pressing clear entry(CE) button) clears the digits display field and sets it to zero. 
                             * It doesn&#x27;t however clear result, operation, memory, operand or operandStr.
                             * @method pressClearEntry
                             * @class Buttons 
                             */
                            pressClearEntry: function () {
                                window.APP.operand = 0;
                                window.APP.digitsField.value = &#x27;0&#x27;;
                            },
                        
                            /**
                             * pressClear method (called upon pressing (C) button) clears all application state except for the memory property which is 
                             * used to memorize values that last even after we do many calculations.
                             * @method pressClear
                             * @class Buttons 
                             */
                            pressClear: function () {
                                window.APP.operation = &#x27;&#x27;;
                                window.APP.operand = 0;
                                window.APP.operandStr = &#x27;&#x27;;
                                window.APP.result = &#x27;&#x27;;
                                window.APP.digitsField.value = &#x27;0&#x27;;
                                window.APP.operationField.value = &#x27;&#x27;;
                            },
                        
                            /**
                             * calculate method takes the value from digits field and sets result to it if result is empty. If result is not empty it takes
                             * the operation value and applies apropriate binary operation on &quot;result&quot; operand and digits display field value. It then empties result
                             * and operation properties.
                             * @method calculate
                             * @class Buttons 
                             */
                            calculate: function () {
                                window.APP.dgField = window.APP.digitsField.value;
                        
                                if (window.APP.result !== &#x27;&#x27;) {
                                    if (window.APP.operation === &#x27;+&#x27;) {
                                        window.APP.Aritmetic.add();
                                    } else if (window.APP.operation === &#x27;-&#x27;) {
                                        window.APP.Aritmetic.subtract();
                                    } else if (window.APP.operation === &#x27;*&#x27;) {
                                        window.APP.Aritmetic.multiply();
                                    } else if (window.APP.operation === &#x27;/&#x27;) {
                                        window.APP.Aritmetic.divide();
                                    } 
                                    window.APP.result = &#x27;&#x27;;
                                    window.APP.printData();
                                    window.APP.operation = &#x27;&#x27;;
                                } else {
                                    window.APP.result = window.APP.dgField;
                                }
                        
                                window.APP.digitsField.value = window.APP.dgField;
                            },
                            
                            /**
                             * pressMemoryButton method (called upon pressing one of MC (Memory Clear), MR (Memory Recall), MS (Memory Save), M+ (Memory Add) or M- (Memory Subtract) * memory buttons) saves current digits field value into window.APP.memory property and shows M label in view, when MS button is pressed. 
                             * When MR button is pressed, digits field is filled with value from window.APP.memory property if available. When M+ or M- buttons are pressed, 
                             * digits field value is added or subtract from the current memory value (if set) and saved to window.APP.memory property. 
                             * MR button sets digits field value to zero if window.APP.memory is empty or to window.APP.memory value if not empty. 
                             * MC sets window.APP.memory property to empty string and hides M label from view.
                             * @method pressMemoryButton
                             * @param memoryStr string value which can be some these MC, MR, MS, M+, M-
                             * @class Buttons 
                             */
                            pressMemoryButton: function (memoryStr) {
                                window.APP.dgField = window.APP.digitsField.value;
                                switch (memoryStr) {
                                    case &#x27;MC&#x27;:
                                        window.APP.memoryLabelField.innerHTML = &#x27;&#x27;;
                                        window.APP.memory = &#x27;&#x27;;
                                    break;
                                    case &#x27;MR&#x27;:
                                        if (window.APP.memory === &#x27;&#x27;) {
                                            window.APP.dgField = &#x27;0&#x27;;
                                        } else {
                                            window.APP.dgField = window.APP.memory;
                                        }
                                        window.APP.digitsField.value = window.APP.dgField;
                                        window.APP.eraseDigits = true;
                                    break;
                                    case &#x27;MS&#x27;:
                                        if (window.APP.dgField !== &#x27;0&#x27; || window.APP.dgField !== &#x27;0.&#x27;) {
                                            window.APP.memory = window.APP.dgField;
                                            window.APP.memoryLabelField.innerHTML = &#x27;M = &#x27; + window.APP.dgField;
                                        } else {
                                            window.APP.digitsField.value = &#x27;0&#x27;;
                                        }
                                        window.APP.eraseDigits = true;
                                    break;
                                    case &#x27;M+&#x27;:
                                        if (window.APP.memory !== &#x27;&#x27;) {
                                            window.APP.memory = window.APP.myParseFloat(window.APP.memory) + window.APP.myParseFloat(window.APP.dgField);
                                            window.APP.memoryLabelField.innerHTML = &#x27;M = &#x27; + window.APP.memory;
                                        }
                                    break;
                                    case &#x27;M-&#x27;:
                                        if (window.APP.memory !== &#x27;&#x27;) {
                                            window.APP.memory = window.APP.myParseFloat(window.APP.memory) - window.APP.myParseFloat(window.APP.dgField);
                                            window.APP.memoryLabelField.innerHTML = &#x27;M = &#x27; + window.APP.memory;
                                        }
                                    break;
                                }
                            },
                        
                            /**
                             * pressEqual method (called upon pressing equal(=) button)call calculate() method to do the calculation on &quot;result&quot; and 
                             * digits display value and resets operand to 0 and operation field value to empty string &#x27;&#x27;.
                             * @method pressEqual
                             * @class Buttons 
                             */
                            pressEqual: function () {
                                this.calculate();
                                window.APP.operationField.value = &#x27;&#x27;;
                                window.APP.operand = 0;
                            }
                        });
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
