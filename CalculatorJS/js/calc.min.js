window.APP=window.APP||function(e){"use strict";var i="Calculator",d="1.0.0";return{operation:"",operand:0,operandStr:"",memory:"",result:"",memoryLabelField:{},digitsField:{},dgField:"",operationField:{},opField:"",eraseDigits:!0,getName:function(){return i},getVersion:function(){return d},printData:function(){var e={operation:this.operation,operand:this.operand,operandStr:this.operandStr,memory:this.memory,result:this.result,digitsField:this.digitsField,dgField:this.dgField,operationField:this.operationField,opField:this.opField};return console.dir(e),this},Constants:function(){var e={},i=Object.prototype.hasOwnProperty,d={string:1,number:1,"boolean":1},t=(Math.random()+"_").slice(2);return{set:function(r,l){return this.isDefined(r)?!1:i.call(d,typeof l)?(e[t+r]=l,!0):!1},isDefined:function(d){return i.call(e,t+d)},get:function(i){return this.isDefined(i)?e[t+i]:null},list:function(){var i=0,d="",t="";for(t in e)e.hasOwnProperty(t)&&(i=t.indexOf("_"),d=t.substr(i+1),console.log(d+": "+e[t]))}}},namespace:function(e,i){var d=e.split("."),t=this,r={},l=0,o={};for(r.Constants=new this.Constants,r.constMap={},d[0]===this.getName()&&(d=d.slice(1)),l=0;l<d.length;l+=1){if(void 0===t[d[l]]){for(o in i)i.hasOwnProperty(o)&&(o===o.toUpperCase()?(r.Constants.set(o,i[o]),r.constMap[o]=o):r[o]=i[o]);t[d[l]]=r}t=t[d[l]]}return t},init:function(){try{return this.memoryLabelField=e.getElementById("memoryLabel"),this.digitsField=e.getElementById("digitsField"),this.digitsField.value="0",this.operationField=e.getElementById("operationField"),this.operationField.value="",this}catch(i){return console.log(i.message),i.message}},myParseInt:function(e){return parseInt(e,10)},myParseFloat:function(e){return parseFloat(e,10)}}}(window.document),window.document.addEventListener("DOMContentLoaded",function(e){"use strict";window.APP.init({event:e})}),window.APP.namespace("Main",function(){"use strict";var e=window.APP;return{test:function(){console.dir(e)}}}()),window.APP.namespace("Aritmetic",function(){"use strict";var e=window.APP;return{divide:function(){""===e.result?e.result=e.dgField:"0"!==e.dgField?e.result=e.myParseFloat(e.result)/e.myParseFloat(e.dgField):e.dgField="Cannot divide by zero",e.opField+=e.dgField+" "+e.operation+" ",e.dgField=e.result},multiply:function(){e.result=""===e.result?e.dgField:e.myParseFloat(e.result)*e.myParseFloat(e.dgField),e.opField+=e.dgField+" "+e.operation+" ",e.dgField=e.result},add:function(){e.result=""===e.result?e.dgField:e.myParseFloat(e.result)+e.myParseFloat(e.dgField),e.opField+=e.dgField+" "+e.operation+" ",e.dgField=e.result},subtract:function(){e.result=""===e.result?e.dgField:e.myParseFloat(e.result)-e.myParseFloat(e.dgField),e.opField+=e.dgField+" "+e.operation+" ",e.dgField=e.result},percent:function(){var i=0,d=0,t=0,r="";""===e.result?(e.opField="0",e.dgField="0"):"0"===e.dgField||"0."===e.dgField?("0"!==e.opField.substr(e.opField.length-1)&&(e.opField=e.opField+"0"),e.dgField="0",e.printData()):(i=e.myParseFloat(e.result),d=e.myParseFloat(e.dgField),t=d*i/100,r=e.operand.toString(),-1!==e.opField.indexOf(r)&&(e.opField=e.opField.substr(0,e.opField.indexOf(r))),e.opField+=t,e.operand=t,e.dgField=t)}}}()),window.APP.namespace("Buttons",function(){"use strict";var e=window.APP;return{pressNumber:function(i){e.dgField=e.digitsField.value,"0"===i?(("0"===e.dgField||e.eraseDigits)&&(e.dgField=""),e.dgField+="0"):(("0"===e.dgField||e.eraseDigits)&&(e.dgField=""),e.dgField+=i),e.eraseDigits=!1,e.digitsField.value=e.dgField},pressUnaryOperation:function(i){var d=0;switch(e.opField=e.operationField.value,e.dgField=e.digitsField.value,e.operand=e.myParseFloat(e.dgField),""!==e.operandStr&&(d=e.opField.indexOf(e.operandStr),-1!==d&&(e.opField=e.opField.slice(0,d))),i){case"sqrt":e.operandStr=""===e.operandStr?"sqrt("+e.operand+")":"sqrt("+e.operandStr+")",e.operand<0?e.dgField="invalid input":(e.dgField=Math.sqrt(e.operand),e.result=e.dgField);break;case"1/x":e.operandStr=""===e.operandStr?"reciproc("+e.operand+")":"reciproc("+e.operandStr+")",0===e.operand?e.dgField="Cannot divide by zero":(e.dgField=1/e.operand,e.result=e.dgField);break;case"+/-":""===e.result?"0"!==e.dgField&&(e.dgField=-1===e.dgField.indexOf("-")?"-"+e.dgField:e.dgField.substr(1)):"0"!==e.dgField&&(e.dgField=-1===e.dgField.indexOf("-")?"-"+e.dgField:e.dgField.substr(1),e.operandStr=""===e.operandStr?"negate("+e.operand+")":"negate("+e.operandStr+")")}e.opField+=e.operandStr,e.operationField.value=e.opField,e.digitsField.value=e.dgField,e.printData()},pressBinaryOperation:function(i){switch(e.dgField=e.digitsField.value,e.opField=e.operationField.value,"%"!==i&&(e.operation=i),e.eraseDigits=!0,i){case"/":e.Aritmetic.divide();break;case"*":e.Aritmetic.multiply();break;case"+":e.Aritmetic.add();break;case"-":e.Aritmetic.subtract();break;case"%":e.Aritmetic.percent()}e.digitsField.value=e.dgField,e.operationField.value=e.opField,e.printData()},pressComma:function(){e.dgField=e.digitsField.value,-1===e.dgField.indexOf(".")&&(""===e.dgField?e.dgField="0.":e.dgField+=".",e.digitsField.value=e.dgField)},pressUndo:function(){e.dgField=e.digitsField.value,e.dgField=1===e.dgField.length?"0":e.dgField.substring(0,e.dgField.length-1),e.digitsField.value=e.dgField},pressClearEntry:function(){e.operand=0,e.digitsField.value="0"},pressClear:function(){e.operation="",e.operand=0,e.operandStr="",e.result="",e.digitsField.value="0",e.operationField.value=""},calculate:function(){e.dgField=e.digitsField.value,""!==e.result?("+"===e.operation?e.Aritmetic.add():"-"===e.operation?e.Aritmetic.subtract():"*"===e.operation?e.Aritmetic.multiply():"/"===e.operation&&e.Aritmetic.divide(),e.result="",e.printData(),e.operation=""):e.result=e.dgField,e.digitsField.value=e.dgField},pressMemoryButton:function(i){switch(e.dgField=e.digitsField.value,i){case"MC":e.memoryLabelField.value="",e.memory="";break;case"MR":e.dgField=""===e.memory?"0":e.memory,e.digitsField.value=e.dgField,e.eraseDigits=!0;break;case"MS":"0"!==e.dgField||"0."!==e.dgField?(e.memory=e.dgField,e.memoryLabelField.value="M = "+e.dgField):e.digitsField.value="0",e.eraseDigits=!0;break;case"M+":""!==e.memory&&(e.memory=e.myParseFloat(e.memory)+e.myParseFloat(e.dgField),e.memoryLabelField.value="M = "+e.memory);break;case"M-":""!==e.memory&&(e.memory=e.myParseFloat(e.memory)-e.myParseFloat(e.dgField),e.memoryLabelField.value="M = "+e.memory)}},pressEqual:function(){this.calculate(),e.operationField.value="",e.operand=0}}}());